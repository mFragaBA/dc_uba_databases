# Práctica - 26/08

## CRT - Cálculo Relacional de Tuplas

### Ejercicio 1

> Listar nombre y salario  de aquellos empleados que trabajan en el
> Depto cuyo detalle es **RRHH**

Sol:

\\[
   \\{ t / \exists e \in \text{EMPLEADO} \land \exists d \in \text{DEPARTAMENTO} \\\\
   \land d.\text{detalle} = \text{RRHH} \land e.\text{depto} = d.\text{IDD} \\\\
   \land t.\text{nombre} = e.\text{nombre} \land t.\text{salario} = e.\text{salario}\\}
\\]

### Ejercicio 2

Proveedores(**idProv**, nombre, direccion)
Productos(**idProd**, nombre, color)
Catalogo(**idProv**, **idProd**, precio)

> - Encontrar los nombres de los proveedores que proveen algún
>   producto rojo.
> - Buscar los idProv para los proveedores que proveen todos los
>   productos.
> - Buscar los nombres de productos que no están en ningún catálogo.

Sol:

a)
\\[
   \\{ t / \exists prov \in \text{PROVEEDOR} \land \exists pr \in \text{PRODUCTO} \land \exists c \in \text{CATALOGO} \\\\
   \land pr.\text{color} = \text{"rojo"} \land pr.\text{idProd} = c.\text{idProd} \\\\
   \land prov.\text{idProv} = c.\text{idProv} \\}
\\]
b)
\\[
   \\{ t / \forall prod \in \text{PRODUCTO} \implies \exists c \in \text{CATALOGO} \\\\
   \land c.\text{idProd} = prod.\text{idProd} \land c.\text{idProv} = t.\text{idProv} \\}
\\]
c)
\\[
   \\{ t / \exists prod \in \text{PRODUCTO} \land \nexists c \in \text{CATALOGO} \\\\
   \land c.\text{idProd} = prod.\text{idProd} \land prod.\text{nombre} = t.\text{nombre} \\}
\\]

> bonus: encontrar los nombres de los proveedores que proveen **todos
> los productos rojos**

Sol:

How about:
\\[
   \\{ t / \forall prod \in \text{PRODUCTO} \land prod.\text{color} = \text{"rojo"} \implies \exists c \in \text{CATALOGO} \\\\
   \land c.\text{idProd} = prod.\text{idProd} \land c.\text{idProv} = t.\text{idProv} \\}
\\]

Si no tengo productos rojos?: We're screwed. La precondición del
implica siempre es falsa, el implica es verdadero

Y antes en el **b)** no tenía ese problema? Bueno, sí... pero el uno
caso en que eso pasa es cuando no hay productos y estoy predicando
sobre el conj. vacío de tuplas. No nos va a interesar mucho eso,
aunque podría chequearlo si tengo ganas

Entonces puedo probar con
\\[
   \\{ t / (\exists prod' \in \text{PRODUCTO} \land prod'.\text{color} = \text{"rojo"}) \land \\\\
   \forall prod \in \text{PRODUCTO} \left( prod.\text{color} = \text{"rojo"} \implies \exists c \in \text{CATALOGO} \\\\
   \left( c.\text{idProd} = prod.\text{idProd} \land c.\text{idProv} = t.\text{idProv} \land \exists prov \in \text{PROVEEDORES} \\\\
   \left( prov \in \text{PROVEEDOR} \land c.\text{idProv} = prov.\text{idProv} \land prov.\text{nomre} = t.\text{nombre} \right)\right)\right)\\}
\\]

### Ejercicio 3

> Listar el nombre de los empleados que no tienen Supervisor asignado

Skipped

## AR - Álgebra Relacional

Ops:

\\[
R \cup S \\\\
R \cap S \\\\
R / S \\\\
R - S \\\\
\rho \left( a1 \rightarrow a2, b1 \rightarrow b2, R \right) 

\\]

### Ejercicio 2

\\[
\rho \left( nombre \rightarrow nombreProv, Proveedores \right) 
\\]
